const preloader=document.querySelector(".preloader");let preloaderHiddenTimeOut=1800;preloader&&(enableScroll(),disableScroll(),setTimeout((()=>{preloader.classList.add("loaded"),setTimeout((()=>{enableScroll(),ScrollTrigger.refresh()}),400)}),1400));const header=document.querySelector(".header"),menuMobileBtn=document.querySelector(".menu-mobile__btn"),mobMenu=document.querySelector(".menu-mobile"),iconMenu=document.querySelector(".icon-menu"),modal=document.querySelectorAll(".modal"),successMod=document.querySelector("#success-mod"),errorMod=document.querySelector("#error-mod"),cookiePopup=document.querySelector("#cookie-popup"),dropdown=document.querySelectorAll(".dropdown");let mm=gsap.matchMedia(),animSpd=400,bp={largeDesktop:1450.98,desktop:1200.98,laptop:1030.98,tablet:767.98,phone:575.98};function sprite(e){return'<svg><use xlink:href="html/img/svg/sprite.svg#'+e+'"></use></svg>'}function scrollPos(){return window.pageYOffset||document.documentElement.scrollTop}function isPhone(e){return!!e.match(/^\+7 \d{3} \d{3}-\d{2}-\d{2}$/)}function maskEmail(e){const[t,o]=e.split("@");let n="";return n=t.length<=3?t.substring(0,1)+"***":t.substring(0,2)+"***"+t.substring(t.length-1),n+"@"+o}function enableScroll(){document.querySelector(".modal.open")||(document.querySelectorAll(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((e=>e.style.paddingRight="0px")),document.body.style.paddingRight="0px",document.body.classList.remove("no-scroll"))}function disableScroll(){if(!document.querySelector(".modal.open")){let e=window.innerWidth>350?window.innerWidth-document.documentElement.clientWidth+"px":0;document.querySelector(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((t=>t.style.paddingRight=e)),document.body.style.paddingRight=e,document.body.classList.add("no-scroll")}}function smoothDrop(e,t,o=!1){let n=o||500;if(t.style.overflow="hidden",t.style.transition=`height ${n}ms ease`,t.style["-webkit-transition"]=`height ${n}ms ease`,e.classList.contains("active")){e.parentNode.classList.remove("expanded");let o=t.clientHeight+"px";t.style.height=o,setTimeout((function(){t.style.height="0",setTimeout((()=>{t.style.display="none",t.style.height=null,e.classList.remove("active")}),n)}),0)}else{e.parentNode.classList.add("expanded"),t.style.display="block";let o=t.clientHeight+"px";t.style.height="0px",setTimeout((function(){t.style.height=o,setTimeout((()=>{t.style.height=null,e.classList.add("active")}),n)}),0)}}function debounce(e,t=100){let o;return function(...n){clearTimeout(o),o=setTimeout((()=>{e.apply(this,n)}),t)}}function tabSwitch(e,t){e.forEach(((o,n)=>{o.addEventListener("click",(()=>{e.forEach((e=>{e.classList.remove("active"),e.setAttribute("aria-selected",!1)})),o.classList.add("active"),o.setAttribute("aria-selected",!0),t.forEach((e=>{e.dataset.block===o.dataset.tab?e.classList.contains("active")||(e.classList.add("active"),e.style.opacity="0",setTimeout((()=>{e.style.opacity="1"}),0)):e.classList.remove("active")}))}))}))}const customScroll=document.querySelectorAll(".custom-scroll");let isFirefox="undefined"!=typeof InstallTrigger;isFirefox&&(document.documentElement.style.scrollbarColor="#002848 #dde6ed"),isFirefox&&customScroll&&customScroll.forEach((e=>{e.style.scrollbarColor="#99b9df #dde6ed"}));let lastScroll=scrollPos();window.addEventListener("scroll",(()=>{let e=scrollPos();e>1?(header.classList.add("scroll"),e>lastScroll&&!header.classList.contains("unshow")?header.classList.add("unshow"):e<lastScroll&&header.classList.contains("unshow")&&header.classList.remove("unshow")):header.classList.remove("scroll","unshow"),lastScroll=e}));const switchBlock=document.querySelectorAll(".switch-block");function openModal(e){let t=document.querySelector(".modal.open");disableScroll(),t&&t.classList.remove("open"),e.classList.add("open")}function closeModal(e){e.querySelector("video")&&e.querySelectorAll("video").forEach((e=>e.pause())),e.classList.remove("open"),setTimeout((()=>{enableScroll()}),animSpd)}function modalShowBtns(){const e=document.querySelectorAll(".mod-open-btn");e.length&&e.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let o=e.getAttribute("data-modal");openModal(document.getElementById(o))}))}))}function modalUnshowBtns(){const e=document.querySelectorAll(".mod-close-btn");e.length&&e.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let o=e.getAttribute("data-modal");closeModal(document.getElementById(o))}))}))}function setSuccessTxt(e=!1,t=!1,o=!1){successMod.querySelector(".modal__title").textContent=e||"Ваша заявка принята",successMod.querySelector(".main-btn span").textContent=o||"Закрыть",successMod.querySelector("p").textContent=t||""}function setErrorTxt(e=!1,t=!1,o=!1){errorMod.querySelector(".modal__title").textContent=e||"Ошибка",errorMod.querySelector(".main-btn span").textContent=o||"Закрыть",errorMod.querySelector("p").textContent=t||""}function openSuccessMod(e=!1,t=!1,o=!1){setSuccessTxt(e,t,o),openModal(successMod)}function openErrorMod(e=!1,t=!1,o=!1){setErrorTxt(e,t,o),openModal(errorMod)}function formReset(e){e.querySelectorAll(".item-form").length>0&&e.querySelectorAll(".item-form").forEach((e=>e.classList.remove("error"))),e.querySelectorAll("[data-error]").length>0&&e.querySelectorAll("[data-error]").forEach((e=>e.textContent="")),e.querySelectorAll("input").forEach((e=>{["hidden","checkbox","radio"].includes(e.type)||(e.value=""),["checkbox","radio"].includes(e.type)&&!e.classList.contains("required")&&(e.checked=!1)})),e.querySelector("textarea")&&(e.querySelector("textarea").value=""),e.querySelector(".file-form__items")&&(e.querySelector(".file-form__items").innerHTML="")}function showCookie(){cookiePopup&&cookiePopup.classList.add("show")}function unshowCookie(){cookiePopup&&cookiePopup.classList.remove("show")}function openDropdown(e){e.classList.add("open"),e.setAttribute("aria-expanded",!0),e.querySelectorAll(".dropdown__options input").forEach((t=>{t.addEventListener("change",(t=>{setActiveOption(e)}))})),document.addEventListener("click",(function t(o){e.contains(o.target)||(closeDropdown(e),document.removeEventListener("click",t))}))}function setActiveOption(e){if(e.querySelector(".dropdown__header").classList.add("checked"),e.classList.contains("radio-select")){let t=e.querySelector("input:checked").nextElementSibling.innerHTML;e.querySelector(".dropdown__header span").innerHTML=t,closeDropdown(e)}}function closeDropdown(e){e.classList.remove("open"),e.setAttribute("aria-expanded",!1)}switchBlock&&switchBlock.forEach((e=>{tabSwitch(e.querySelectorAll("[data-tab]"),e.querySelectorAll("[data-block]"))})),modal&&modal.forEach((e=>{e.addEventListener("click",(t=>{e.querySelector(".modal__content").contains(t.target)||closeModal(e)})),e.querySelectorAll(".modal__close").forEach((t=>{t.addEventListener("click",(()=>{closeModal(e)}))}))})),modalShowBtns(),modalUnshowBtns(),dropdown&&dropdown.forEach((e=>{e.querySelector(".dropdown__header").addEventListener("click",(()=>{e.classList.contains("open")?closeDropdown(e):openDropdown(e)}))}));const accordion=document.querySelectorAll(".accordion");let readMoreTimeout;function readMoreFunc(){clearTimeout(readMoreTimeout);const e=document.querySelectorAll(".read-more");readMoreTimeout=setTimeout((()=>{e.length&&e.forEach((e=>{let t=e.querySelector(".read-more__btn").getAttribute("data-open"),o=e.querySelector(".read-more__btn").getAttribute("data-close");function n(){e.classList.remove("active"),e.classList.add("more-hidden");let o=e.querySelector(".read-more__content").clientHeight;e.classList.remove("more-hidden");let n=e.querySelector(".read-more__content").clientHeight;e.classList.add("more-hidden"),n>o?(e.classList.add("btn-show"),e.querySelector(".read-more__btn span")&&t&&(e.querySelector(".read-more__btn span").textContent=t)):e.classList.remove("btn-show")}n();let r=window.innerWidth;window.addEventListener("resize",(()=>{r!=window.innerWidth&&(n(),r=window.innerWidth)})),e.querySelector(".read-more__btn").addEventListener("click",(()=>{if(e.classList.contains("active")){e.classList.remove("active");let o=e.querySelector(".read-more__content").clientHeight+"px";e.classList.add("more-hidden");let n=e.querySelector(".read-more__content").clientHeight+"px";e.classList.remove("more-hidden"),e.querySelector(".read-more__content").style.height=o,setTimeout((function(){e.querySelector(".read-more__content").style.height=n,e.querySelector(".read-more__btn span")&&t&&(e.querySelector(".read-more__btn span").textContent=t),setTimeout((()=>{e.classList.add("more-hidden"),e.querySelector(".read-more__content").style.height=null}),500)}),0)}else{e.classList.add("active");let t=e.querySelector(".read-more__content").clientHeight+"px";e.classList.remove("more-hidden");let n=e.querySelector(".read-more__content").clientHeight+"px";e.querySelector(".read-more__content").style.height=t,setTimeout((function(){e.querySelector(".read-more__content").style.height=n,e.querySelector(".read-more__btn span")&&o&&(e.querySelector(".read-more__btn span").textContent=o),setTimeout((()=>{e.querySelector(".read-more__content").style.height=null}),500)}),0)}}))}))}),0)}accordion.length&&accordion.forEach((e=>{e.querySelector(".accordion__header").addEventListener("click",(()=>{e.classList.contains("no-close")||e.parentNode.parentNode.querySelectorAll(".accordion").forEach((t=>{if(t.querySelector(".accordion__header").classList.contains("active")&&(smoothDrop(t.querySelector(".accordion__header"),t.querySelector(".accordion__body")),t.getBoundingClientRect().top<0)){let o=scrollPos()+e.getBoundingClientRect().top-t.querySelector(".accordion__body").clientHeight-header.clientHeight-10;window.scrollTo(0,o)}})),smoothDrop(e.querySelector(".accordion__header"),e.querySelector(".accordion__body"))}))})),readMoreFunc();const inp=document.querySelectorAll("input[type=tel]");inp&&inp.forEach((e=>{Inputmask({mask:"+7 999 999-99-99"}).mask(e)}));const searchForm=document.querySelectorAll(".search-form");function showSearchResBtn(e){e.querySelector("input").value.length>0?e.querySelector(".search-form__reset").classList.add("show"):e.querySelector(".search-form__reset").classList.remove("show")}searchForm&&searchForm.forEach((e=>{showSearchResBtn(e),e.querySelector("input").addEventListener("input",(()=>showSearchResBtn(e))),e.addEventListener("reset",(()=>{e.querySelector("input").setAttribute("value",""),showSearchResBtn(e)}))}));const anchorLinks=document.querySelectorAll(".js-anchor");anchorLinks.length&&document.querySelectorAll(".js-anchor").forEach((e=>{e.addEventListener("click",(t=>{let o=e.getAttribute("href").indexOf("#");const n=e.getAttribute("href").substring(o);let r=document.querySelector(n);if(r){t.preventDefault();let e=r.getBoundingClientRect().top<0?r.getBoundingClientRect().top-header.clientHeight:r.getBoundingClientRect().top;iconMenu.classList.contains("active")?(iconMenu.click(),setTimeout((()=>{window.scrollTo({top:scrollPos()+e,behavior:"smooth"})}),300)):window.scrollTo({top:scrollPos()+e,behavior:"smooth"})}}))}));const blurTexts=document.querySelectorAll(".blur-text");function animate(){document.querySelectorAll("[data-animation]").forEach((async e=>{const t=e.getBoundingClientRect().top,o=Math.abs(window.innerHeight-.1*e.offsetHeight);if(t-(o>100?o:100)<0){const t=e.getAttribute("data-animation");preloader&&!preloader.classList.contains("loaded")&&await new Promise((e=>setTimeout(e,preloaderHiddenTimeOut))),e.classList.add(t),e.removeAttribute("data-animation")}}))}blurTexts&&blurTexts.forEach((e=>{const t=e.innerHTML.split(/(<br>)/g);e.innerHTML="";let o=0;t.forEach(((t,n)=>{if("<br>"===t)e.appendChild(document.createElement("br"));else{let n=t.split(" "),r=document.createElement("span");r.classList.add("lineWrapper"),e.append(r),n.forEach((e=>{if(""!==e.trim()){e.split(" ").forEach((e=>{e=e.replace(/&nbsp;/g," ");let t=document.createElement("span");t.classList.add("wordWrapper"),r.append(t),e.split("").forEach((e=>{if(""!==e.trim()){let n=document.createElement("span");n.innerHTML=e,n.classList.add("char"),n.setAttribute("data-i",o),n.setAttribute("style",`--char-i: ${o}`),t.append(n),o++}else t.innerHTML+="&nbsp;"}))}))}}))}}))})),animate(),window.addEventListener("scroll",animate);const headerNav=document.querySelector(".header__nav");iconMenu&&headerNav&&(iconMenu.addEventListener("click",(()=>{iconMenu.classList.contains("active")?(iconMenu.setAttribute("aria-expanded",!1),iconMenu.setAttribute("aria-label","Открыть меню"),iconMenu.classList.remove("active"),headerNav.classList.remove("open"),enableScroll()):(iconMenu.setAttribute("aria-label","Закрыть меню"),iconMenu.classList.add("active"),headerNav.classList.add("open"),disableScroll())})),window.addEventListener("resize",(()=>{window.innerWidth>bp.largeDesktop&&iconMenu.classList.contains("active")&&iconMenu.click()})));const filter=document.querySelectorAll(".filter");let filterObj;if(filter.length){function formatDateRu(e){try{let t;if("string"==typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e))t=new Date(e+"T00:00:00");else if("string"==typeof e&&/^\d{2}\.\d{2}\.\d{4}$/.test(e)){const[o,n,r]=e.split(".");t=new Date(`${r}-${n}-${o}T00:00:00`)}else t=e instanceof Date?e:new Date(e);return new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric"}).format(t)}catch(t){return e}}filterObj={checkInp:function(e){e.checked=!0,e.setAttribute("checked",!0)},uncheckInp:function(e){e.checked=!1,e.removeAttribute("checked")},setSelected:function(e,t){let o=e.parentNode.querySelector("span:last-child").textContent,n=e.getAttribute("data-id"),r=e.getAttribute("data-name"),i=r?r+" "+o.toLowerCase():o;t.querySelector(`[data-target="${n}"]`)||t.insertAdjacentHTML("afterbegin",`<li data-target="${n}">${i}<button class="btn-cross"></button></li>`)},removeSelected:function(e,t){t.querySelector(`[data-target="${e}"]`)&&t.querySelector(`[data-target="${e}"]`).remove()},selectedOnClick:function(e,t,o){o.querySelectorAll("li").forEach((n=>{if(n.querySelector(".btn-cross").contains(e.target)){let e=n.getAttribute("data-target");const r=t.querySelector(`label input[data-id='${CSS.escape(e)}']`);if(r)return void r.click();if("filter[date]"===e){const n=t.querySelector("[data-datepicker-value]");if(n){if(n.value="",n._picker&&"function"==typeof n._picker.clear)try{n._picker.clear()}catch(e){}this.removeSelected(e,o)}}}}))}},filter.forEach((e=>{const t=e.querySelector(".filter__selected-items");if(t){e.querySelectorAll("label input").forEach((e=>{e.checked&&filterObj.setSelected(e,t)}));const o=e.querySelector("[data-datepicker-value]"),n=e=>{if(!e)return;const o="filter[date]",n=String(e).replace(/\s*,\s*/g," - ");if(t.querySelector(`[data-target="${o}"]`)){t.querySelector(`[data-target="${o}"]`).innerHTML=`Дата: ${n}<button class="btn-cross"></button>`}else t.insertAdjacentHTML("afterbegin",`<li data-target="${o}">Дата: ${n}<button class="btn-cross"></button></li>`)},r=()=>{filterObj.removeSelected("filter[date]",t)};o&&(o.value&&n(o.value),o.addEventListener("change",(e=>{const t=e.target.value;t?n(t):r()})),o.addEventListener("input",(e=>{const t=e.target.value;t&&n(t)}))),e.addEventListener("click",(o=>{e.querySelector("label input")&&e.querySelectorAll("label input").forEach((n=>{if(n.contains(o.target)||n===o.target){let o=n.getAttribute("data-id");"checkbox"===n.type?n.checked?filterObj.setSelected(n,t):filterObj.removeSelected(o,t):"radio"===n.type&&(e.querySelectorAll(`input[name='${n.name}']`).forEach((e=>filterObj.removeSelected(e.getAttribute("data-id"),t))),filterObj.setSelected(n,t))}}))})),t.addEventListener("click",(o=>filterObj.selectedOnClick(o,e,t)))}}))}const datepickersMap=new WeakMap,datepickerNodes=document.querySelectorAll(".datepicker");function clearDateField(e){if(!e)return;const t=e._picker||datepickersMap.get(e);if(t&&"function"==typeof t.clear)try{t.clear()}catch(e){}e.value="",e.removeAttribute("data-datepicker-value"),e.dispatchEvent(new Event("change",{bubbles:!0}))}datepickerNodes&&datepickerNodes.length&&datepickerNodes.forEach((e=>{const t=e.closest(".filter__form"),o=t?t.querySelector("input[data-datepicker-value]"):null,n=new AirDatepicker(e,{range:!0,multipleDatesSeparator:" - ",onSelect({formattedDate:e}){o&&(o.value=e||"",o.setAttribute("data-datepicker-value",e||""),o.dispatchEvent(new Event("change",{bubbles:!0})))}});o&&(o._picker=n,datepickersMap.set(o,n))}));const introBg=document.querySelector(".intro .media-cover-bg");if(introBg){gsap.timeline({ease:"none",duration:1,scrollTrigger:{trigger:document.querySelector(".intro"),start:"top top",end:"bottom start",scrub:!0,invalidateOnRefresh:!0,scrubs:!0}}).to(introBg,{y:0})}const aboutContainer=document.querySelector(".about__container"),aboutRibbons=document.querySelector(".about__ribbons"),aboutItems=document.querySelectorAll(".about .item-about");if(aboutContainer&&aboutRibbons){let e=gsap.timeline({scrollTrigger:{trigger:aboutContainer,start:"top+=200 bottom",invalidateOnRefresh:!0},onComplete:()=>{aboutRibbons.style.opacity=.2,aboutContainer.style.opacity=1,aboutContainer.classList.add("text-animating"),aboutItems.length&&setTimeout((()=>{aboutItems.forEach(((e,t)=>{gsap.to(e,{opacity:1,ease:"power2.out",duration:1,delay:.3*t})}))}),300)}});aboutRibbons.querySelectorAll(".about__ribbons-path").forEach(((t,o)=>{let n=t.getTotalLength();t.style.strokeDasharray=n+"px",t.style.strokeDashoffset=n+"px",e.to(t,{strokeDashoffset:0,ease:"none",duration:1},.2*o)}))}const introAbout=document.querySelector(".about-intro"),aboutLines=document.querySelector(".about-intro__lines");introAbout&&aboutLines&&aboutLines.querySelectorAll(".about-intro__lines-path").forEach((async(e,t)=>{let o=e.getTotalLength();e.style.strokeDasharray=o+"px",e.style.strokeDashoffset=o+"px",preloader&&!preloader.classList.contains("loaded")&&await new Promise((e=>setTimeout(e,preloaderHiddenTimeOut))),gsap.to(e,{strokeDashoffset:0,ease:"none",duration:2,scrollTrigger:{trigger:aboutLines,start:"top+=200 bottom",invalidateOnRefresh:!0,onEnter:()=>{setTimeout((()=>{introAbout.classList.add("line-animated")}),1e3)}}},.2*t)}));const eventsWrapper=document.querySelector(".events__wrapper"),eventsMod=document.querySelector("#event-mod"),eventsModContent=document.querySelector("[data-event-mod-content]"),eventsCol=document.querySelectorAll(".events .swiper-slide");function initEventsSwiper(){const e=document.querySelector(".events .swiper"),t=document.querySelector(".events .swiper-nav");e&&(new Swiper(e,{slidesPerView:1,spaceBetween:16,observer:!0,observeParents:!0,watchSlidesProgress:!0,navigation:{prevEl:document.querySelector(".events .nav-btn--prev"),nextEl:document.querySelector(".events .nav-btn--next")},breakpoints:{1450.98:{slidesPerView:4,spaceBetween:30},1200.98:{slidesPerView:3,spaceBetween:20},1030.98:{slidesPerView:3,spaceBetween:16},767.98:{slidesPerView:2,spaceBetween:16}},speed:800}),t&&(e?t.classList.remove("hidden"):t.classList.add("hidden")))}if(initEventsSwiper(),eventsWrapper&&eventsWrapper.addEventListener("click",(e=>{const t=eventsWrapper.querySelectorAll(".item-event");t.length&&t.forEach((t=>{if(t.contains(e.target)){const e=t.querySelector(".item-event__mod");if(e){let o=e.getAttribute("data-title");if(eventsMod&&o&&eventsModContent){eventsMod.querySelector(".modal__title").innerHTML=o,eventsModContent.innerHTML=e.innerHTML,readMoreFunc();const n=eventsMod.querySelector(".item-event__map");let r=t.getAttribute("data-coords");if(n&&r){let[e,t]=r.split(",").map((e=>parseFloat(e.trim())));ymaps.ready((()=>{n.setAttribute("id","event-map");let o=new ymaps.Map("event-map",{center:[e,t],zoom:15});o.controls.remove("rulerControl"),o.controls.remove("searchControl"),o.controls.remove("trafficControl"),o.controls.remove("typeSelector"),o.controls.remove("rulerControl"),o.geoObjects.add(new ymaps.Placemark([e,t],{},{iconLayout:"default#image",iconImageHref:"html/img/svg/map-mark.svg",iconImageSize:[22,28],iconImageOffset:[-14,-14],cursor:"grab"}))}))}openModal(eventsMod)}}}}))})),eventsWrapper&&eventsCol.length){let t=gsap.timeline({scrollTrigger:{trigger:eventsWrapper,start:"center bottom",invalidateOnRefresh:!0,toggleActions:"play none play none"}});eventsCol.forEach(((e,o)=>{t.from(e,{xPercent:30,opacity:0,ease:"back.out",duration:1},.2*o)}))}const mainNewsSwiperEl=document.querySelector(".main-news__swiper");if(mainNewsSwiperEl){let o,n;function initMainNewsSwiper(){window.innerWidth<=bp.laptop&&!n?(n=!0,o=new Swiper(mainNewsSwiperEl.querySelector(".swiper"),{slidesPerView:1,spaceBetween:16,observer:!0,observeParents:!0,watchSlidesProgress:!0,breakpoints:{575.98:{slidesPerView:2,spaceBetween:20}},pagination:{el:mainNewsSwiperEl.querySelector(".swiper-pagination"),type:"bullets",clickable:!0},speed:800})):window.innerWidth>bp.laptop&&n&&(n=!1,o.destroy())}initMainNewsSwiper(),window.addEventListener("resize",initMainNewsSwiper)}const mainNewsSlide=document.querySelectorAll(".main-news__slide");if(mainNewsSlide.length){let r=gsap.timeline({scrollTrigger:{trigger:mainNewsSwiperEl,start:"top center",invalidateOnRefresh:!0,toggleActions:"play none play none"}});mainNewsSlide.forEach(((e,t)=>{r.from(e,{y:50,opacity:0,ease:"back.out",duration:1},.1*t)}))}const gallerySwiper=document.querySelectorAll(".gallery__swiper");gallerySwiper.length&&gallerySwiper.forEach((e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:1,spaceBetween:16,observer:!0,observeParents:!0,centeredSlides:!0,watchSlidesProgress:!0,loop:!0,initialSlide:e.querySelectorAll(".swiper-slide").length>2?1:0,effect:"coverflow",coverflowEffect:{rotate:0,stretch:0,depth:110,modifier:1,slideShadows:!0},navigation:{prevEl:e.querySelector(".nav-btn--prev"),nextEl:e.querySelector(".nav-btn--next")},breakpoints:{1450.98:{slidesPerView:1.48,spaceBetween:80},1030.98:{slidesPerView:1.185,spaceBetween:80},767.98:{slidesPerView:1,spaceBetween:60}},speed:800})}));const newsPopup=document.querySelector(".news-popup");newsPopup&&newsPopup.querySelector(".news-popup__close").addEventListener("click",(()=>newsPopup.classList.add("hidden")));const fanShopSwiper=document.querySelector(".fan-shop__swiper");fanShopSwiper&&new Swiper(fanShopSwiper.querySelector(".swiper"),{slidesPerView:"auto",spaceBetween:16,observer:!0,observeParents:!0,watchSlidesProgress:!0,navigation:{prevEl:fanShopSwiper.querySelector(".nav-btn--prev"),nextEl:fanShopSwiper.querySelector(".nav-btn--next")},breakpoints:{1450.98:{slidesPerView:fanShopSwiper.classList.contains("fan-shop__swiper--sm")?3:4,spaceBetween:30},1200.98:{slidesPerView:fanShopSwiper.classList.contains("fan-shop__swiper--sm")?3:4,spaceBetween:20},1030.98:{slidesPerView:fanShopSwiper.classList.contains("fan-shop__swiper--sm")?3:4,spaceBetween:16},767.98:{slidesPerView:3,spaceBetween:16}},speed:800});const swiper1=document.querySelectorAll(".swiper1");swiper1.length&&swiper1.forEach((e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:1,observer:!0,observeParents:!0,effect:"fade",fadeEffect:{crossFade:!0},pagination:{el:e.querySelector(".swiper-pagination"),type:"bullets",clickable:!0},speed:300})}));const clubAchieveList=document.querySelectorAll(".club-achieve__list");clubAchieveList.length&&clubAchieveList.forEach((e=>{e.querySelectorAll("li").length>2&&e.classList.add("col-2")}));const dataPrintBtn=document.querySelectorAll("[data-print-btn]");function convertImagesToBase64WithTransparency(e){return new Promise((t=>{const o=e.querySelectorAll("img");let n=0;0===o.length&&t(),o.forEach((e=>{const r=document.createElement("canvas"),i=r.getContext("2d"),a=new Image;a.crossOrigin="anonymous",a.src=e.src,a.onload=()=>{r.width=a.width,r.height=a.height,i.clearRect(0,0,r.width,r.height),i.drawImage(a,0,0);try{const t=r.toDataURL("image/png");e.src=t,n++}catch(t){console.warn("Cannot convert image:",e.src),n++}n===o.length&&t()},a.onerror=()=>{console.warn("Failed to load image:",e.src),n++,n===o.length&&t()}}))}))}dataPrintBtn.length&&dataPrintBtn.forEach((e=>{e.addEventListener("click",(async()=>{const t=document.querySelector(`[data-print-block='${e.getAttribute("data-print-btn")}']`);let o=e.getAttribute("data-print-name");if(t){const e={filename:o?o+".pdf":"document.pdf",pagebreak:{avoid:[".col-schedule",".schedule__month"]},html2canvas:{scale:4,useCORS:!0,letterRendering:!0,logging:!1,scrollY:0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};await convertImagesToBase64WithTransparency(t),html2pdf().set(e).from(t).save()}}))}));let daysOfWeek=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"];function setScheduleDate(){document.querySelectorAll(".col-schedule").forEach((e=>{let t=e.getAttribute("data-date"),o=new Date(t).getDate(),n=new Date(t).getDay();const r=e.querySelector(".col-schedule__date"),i=e.querySelector(".col-schedule__day");t&&(r&&(r.innerHTML=o),i&&(i.innerHTML=daysOfWeek[n],e.classList.add("col-schedule--"+n)))}))}setScheduleDate();const scrollDownBtn=document.querySelector(".intro .scrollDown-btn");scrollDownBtn&&scrollDownBtn.addEventListener("click",(()=>{window.scrollTo({top:document.querySelector(".intro").scrollHeight,behavior:"smooth"})}));const members=document.querySelector(".members"),memberMod=document.querySelector("#member-mod"),memberModContent=document.querySelector("[data-member-mod-content]");let mainMemberColPos;if(members){const i=members.querySelectorAll(".item-member");if(i.length){const a=members.querySelector(".members__col--main"),l=members.querySelector(".members__col--first .item-member:last-child"),s=members.querySelector(".members__col--second .item-member:first-child"),c=members.querySelector(".members__col--third .item-member:first-child"),d=members.querySelectorAll(".members__col--first .item-member__line"),u=members.querySelector(".members__line--left"),m=members.querySelector(".members__line--right");function getMemMainColPos(){return{height:a.clientHeight,top:a.getBoundingClientRect().top,left:a.getBoundingClientRect().left,right:a.getBoundingClientRect().right}}function setMemLeftLine(){if(l&&u){let e={width:l.clientWidth,height:l.clientHeight,top:l.getBoundingClientRect().top,right:l.getBoundingClientRect().right},t=mainMemberColPos.left-e.right,o=e.top-mainMemberColPos.top-e.height/2,n=s.getBoundingClientRect().top-mainMemberColPos.top+mainMemberColPos.height/2-s.getBoundingClientRect().height/2;u.style.width=t+"px",u.style.height=window.innerWidth>bp.laptop?o+"px":n+"px",u.style.top=mainMemberColPos.height/2+"px",u.style.left=e.width+"px",d&&d.forEach((e=>e.style.width=t/3+"px"))}}function setMemRightLine(){if(c&&m){let e={width:c.clientWidth,height:c.clientHeight,left:c.getBoundingClientRect().left,top:c.getBoundingClientRect().top},t=e.left-mainMemberColPos.right,o=e.top-mainMemberColPos.top+mainMemberColPos.height/2-e.height/2;m.style.width=t+"px",m.style.height=o+"px",m.style.top=mainMemberColPos.height/2+"px",m.style.right=e.width+"px"}}function adjustSizeToMultOf9(e){e.style.width=null,e.style.height=null,setTimeout((()=>{let t=Math.round(e.offsetWidth);for(;t%9!=0;)t--;e.style.width=t+"px"}),0),setTimeout((()=>{let t=Math.round(e.offsetHeight);for(;t%9!=0;)t++;e.style.height=t+"px"}),0)}function callMemDashFunc(){i.forEach((e=>{e.parentNode.classList.contains("members__team")?adjustSizeToMultOf9(e.parentNode):adjustSizeToMultOf9(e)})),setTimeout((()=>{a&&(mainMemberColPos=getMemMainColPos(),setMemLeftLine(),setMemRightLine())}),0)}i.forEach((e=>{e.addEventListener("click",(()=>{const t=e.querySelector(".item-member__mod");if(t){let e=t.getAttribute("data-title");memberMod&&e&&memberModContent&&(memberMod.querySelector(".modal__title").innerHTML=e,memberModContent.innerHTML=t.innerHTML,openModal(memberMod))}}))})),callMemDashFunc();let p=window.innerWidth;const h=debounce((()=>{p!=window.innerWidth&&(callMemDashFunc(),p=window.innerWidth)}),200);window.addEventListener("resize",h)}}!function(){const e="site_cookie_consent",t="accepted";function o(){return function(e){if(!document.cookie)return null;const t=e+"=",o=document.cookie.split("; ");for(let e=0;e<o.length;e++)if(0===o[e].indexOf(t))return decodeURIComponent(o[e].substring(t.length));return null}(e)===t}const n=document.querySelector("#cookie-popup");function r(){o()?window.unshowCookie():window.showCookie();const r=n?n.querySelector(".cookie__btns button"):null;r&&!r._cookieHandlerAttached&&(r.addEventListener("click",(function(){!function(e,t,o){const n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);const r="expires="+n.toUTCString();let i=`${e}=${encodeURIComponent(t)}; ${r}; path=/; SameSite=Lax`;"https:"===location.protocol&&(i+="; Secure"),document.cookie=i}(e,t,999),"function"==typeof window.unshowCookie&&window.unshowCookie()})),r._cookieHandlerAttached=!0)}"function"!=typeof window.showCookie&&(window.showCookie=function(){n&&(n.classList.add("show"),n.setAttribute("aria-hidden","false"))}),"function"!=typeof window.unshowCookie&&(window.unshowCookie=function(){n&&(n.classList.remove("show"),n.setAttribute("aria-hidden","true"))}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r):r()}(),function(){function e(e){if(!e)return;const t=Array.from(e.querySelectorAll(".pagination__link, .pagination__item")).map((e=>{const t=e.textContent.match(/\d+/);return t?{el:e,num:parseInt(t[0],10)}:null})).filter(Boolean);if(0===t.length)return e.querySelectorAll(".js-pagination-hide-duplicate").forEach((e=>e.classList.remove("js-pagination-hide-duplicate"))),void e.classList.remove("js-pagination-fixed");const o=Math.max(...t.map((e=>e.num)));let n=e.querySelector(".pagination__link.current, .pagination__link.active, .pagination__item.current, .pagination__item.active");if(n||(n=e.querySelector(".pagination__link:nth-last-child(2), .pagination__item:nth-last-child(2)")),!n)return;n.setAttribute("data-total",String(o));const r=n.textContent.match(/\d+/),i=r?r[0]:n.textContent.trim();n.setAttribute("aria-label",`Страница ${i} из ${o}`);let a=null;for(let e=t.length-1;e>=0;e--)if(t[e].num===o){a=t[e].el;break}e.querySelectorAll(".js-pagination-hide-duplicate").forEach((e=>{e!==a&&e.classList.remove("js-pagination-hide-duplicate")})),a&&a!==n?a.classList.add("js-pagination-hide-duplicate"):a&&a.classList.remove("js-pagination-hide-duplicate"),e.classList.add("js-pagination-fixed")}function t(){document.querySelectorAll(".pagination").forEach(e)}const o=((e,t=120)=>{let o;return(...n)=>{clearTimeout(o),o=setTimeout((()=>e(...n)),t)}})((()=>{try{t()}catch(e){console.error("paginationFixer error",e)}}),80);!function(){if(document.getElementById("js-pagination-fix-style"))return;const e=document.createElement("style");e.id="js-pagination-fix-style",e.textContent='\n        @media (max-width: 1200.98px) {\n        .js-pagination-fixed .pagination__link.current:after,\n        .js-pagination-fixed .pagination__link.active:after,\n        .js-pagination-fixed .pagination__item.current:after,\n        .js-pagination-fixed .pagination__item.active:after {\n            content: " из " attr(data-total) !important;\n            margin-left: 0.2em !important;\n            white-space: nowrap !important;\n        }\n\n        .js-pagination-fixed .js-pagination-hide-duplicate {\n            display: none !important;\n            visibility: hidden !important;\n        }\n\n        .js-pagination-fixed .pagination__link.current,\n        .js-pagination-fixed .pagination__item.current {\n            padding-right: 10 !important;\n        }\n        }\n    ',document.head.appendChild(e)}();new MutationObserver((e=>{for(const t of e){if(t.addedNodes&&t.addedNodes.length)for(const e of t.addedNodes)if(1===e.nodeType){if(e.classList&&e.classList.contains("pagination"))return void o();if(e.querySelector&&e.querySelector(".pagination"))return void o()}if(t.target&&t.target.closest&&t.target.closest(".pagination"))return void o()}})).observe(document.body,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),document.addEventListener("click",(e=>{e.target.closest&&e.target.closest(".pagination__btn, .pagination__link, .pagination__item")&&(setTimeout(o,60),setTimeout(o,300),setTimeout(o,800))}),!0),window.addEventListener("popstate",(()=>{setTimeout(o,60),setTimeout(o,300)})),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o(),window.__paginationFixer={updateAll:t,updateOne:e}}();