const preloader=document.querySelector(".preloader");let preloaderHiddenTimeOut=1400;preloader&&(enableScroll(),disableScroll(),setTimeout((()=>{enableScroll(),preloader.classList.add("loaded")}),1400));const header=document.querySelector(".header"),menuMobileBtn=document.querySelector(".menu-mobile__btn"),mobMenu=document.querySelector(".menu-mobile"),iconMenu=document.querySelector(".icon-menu"),modal=document.querySelectorAll(".modal"),successMod=document.querySelector("#success-mod"),errorMod=document.querySelector("#error-mod"),cookiePopup=document.querySelector("#cookie-popup"),dropdown=document.querySelectorAll(".dropdown");let mm=gsap.matchMedia(),animSpd=400,bp={largeDesktop:1450.98,desktop:1200.98,laptop:1030.98,tablet:767.98,phone:575.98};function sprite(e){return'<svg><use xlink:href="img/svg/sprite.svg#'+e+'"></use></svg>'}function scrollPos(){return window.pageYOffset||document.documentElement.scrollTop}function isPhone(e){return!!e.match(/^\+7 \d{3} \d{3}-\d{2}-\d{2}$/)}function maskEmail(e){const[t,o]=e.split("@");let r="";return r=t.length<=3?t.substring(0,1)+"***":t.substring(0,2)+"***"+t.substring(t.length-1),r+"@"+o}function enableScroll(){document.querySelector(".modal.open")||(document.querySelectorAll(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((e=>e.style.paddingRight="0px")),document.body.style.paddingRight="0px",document.body.classList.remove("no-scroll"))}function disableScroll(){if(!document.querySelector(".modal.open")){let e=window.innerWidth>350?window.innerWidth-document.documentElement.clientWidth+"px":0;document.querySelector(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((t=>t.style.paddingRight=e)),document.body.style.paddingRight=e,document.body.classList.add("no-scroll")}}function smoothDrop(e,t,o=!1){let r=o||500;if(t.style.overflow="hidden",t.style.transition=`height ${r}ms ease`,t.style["-webkit-transition"]=`height ${r}ms ease`,e.classList.contains("active")){e.parentNode.classList.remove("expanded");let o=t.clientHeight+"px";t.style.height=o,setTimeout((function(){t.style.height="0",setTimeout((()=>{t.style.display="none",t.style.height=null,e.classList.remove("active")}),r)}),0)}else{e.parentNode.classList.add("expanded"),t.style.display="block";let o=t.clientHeight+"px";t.style.height="0px",setTimeout((function(){t.style.height=o,setTimeout((()=>{t.style.height=null,e.classList.add("active")}),r)}),0)}}function debounce(e,t=100){let o;return function(...r){clearTimeout(o),o=setTimeout((()=>{e.apply(this,r)}),t)}}function tabSwitch(e,t){e.forEach(((o,r)=>{o.addEventListener("click",(()=>{e.forEach((e=>{e.classList.remove("active"),e.setAttribute("aria-selected",!1)})),o.classList.add("active"),o.setAttribute("aria-selected",!0),t.forEach((e=>{e.dataset.block===o.dataset.tab?e.classList.contains("active")||(e.classList.add("active"),e.style.opacity="0",setTimeout((()=>{e.style.opacity="1"}),0)):e.classList.remove("active")}))}))}))}const customScroll=document.querySelectorAll(".custom-scroll");let isFirefox="undefined"!=typeof InstallTrigger;isFirefox&&(document.documentElement.style.scrollbarColor="#002848 #dde6ed"),isFirefox&&customScroll&&customScroll.forEach((e=>{e.style.scrollbarColor="#99b9df #dde6ed"}));let lastScroll=scrollPos();window.addEventListener("scroll",(()=>{let e=scrollPos();e>1?(header.classList.add("scroll"),e>lastScroll&&!header.classList.contains("unshow")?header.classList.add("unshow"):e<lastScroll&&header.classList.contains("unshow")&&header.classList.remove("unshow")):header.classList.remove("scroll","unshow"),lastScroll=e}));const switchBlock=document.querySelectorAll(".switch-block");function openModal(e){let t=document.querySelector(".modal.open");disableScroll(),t&&t.classList.remove("open"),e.classList.add("open")}function closeModal(e){e.querySelector("video")&&e.querySelectorAll("video").forEach((e=>e.pause())),e.classList.remove("open"),setTimeout((()=>{enableScroll()}),animSpd)}function modalShowBtns(){const e=document.querySelectorAll(".mod-open-btn");e.length&&e.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let o=e.getAttribute("data-modal");openModal(document.getElementById(o))}))}))}function modalUnshowBtns(){const e=document.querySelectorAll(".mod-close-btn");e.length&&e.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let o=e.getAttribute("data-modal");closeModal(document.getElementById(o))}))}))}function setSuccessTxt(e=!1,t=!1,o=!1){successMod.querySelector(".modal__title").textContent=e||"Ваша заявка принята",successMod.querySelector(".main-btn span").textContent=o||"Закрыть",successMod.querySelector("p").textContent=t||""}function setErrorTxt(e=!1,t=!1,o=!1){errorMod.querySelector(".modal__title").textContent=e||"Ошибка",errorMod.querySelector(".main-btn span").textContent=o||"Закрыть",errorMod.querySelector("p").textContent=t||""}function openSuccessMod(e=!1,t=!1,o=!1){setSuccessTxt(e,t,o),openModal(successMod)}function openErrorMod(e=!1,t=!1,o=!1){setErrorTxt(e,t,o),openModal(errorMod)}function formReset(e){e.querySelectorAll(".item-form").length>0&&e.querySelectorAll(".item-form").forEach((e=>e.classList.remove("error"))),e.querySelectorAll("[data-error]").length>0&&e.querySelectorAll("[data-error]").forEach((e=>e.textContent="")),e.querySelectorAll("input").forEach((e=>{["hidden","checkbox","radio"].includes(e.type)||(e.value=""),["checkbox","radio"].includes(e.type)&&!e.classList.contains("required")&&(e.checked=!1)})),e.querySelector("textarea")&&(e.querySelector("textarea").value=""),e.querySelector(".file-form__items")&&(e.querySelector(".file-form__items").innerHTML="")}function showCookie(){cookiePopup&&cookiePopup.classList.add("show")}function unshowCookie(){cookiePopup&&cookiePopup.classList.remove("show")}function openDropdown(e){e.classList.add("open"),e.setAttribute("aria-expanded",!0),e.querySelectorAll(".dropdown__options input").forEach((t=>{t.addEventListener("change",(t=>{setActiveOption(e)}))})),document.addEventListener("click",(function t(o){e.contains(o.target)||(closeDropdown(e),document.removeEventListener("click",t))}))}function setActiveOption(e){if(e.querySelector(".dropdown__header").classList.add("checked"),e.classList.contains("radio-select")){let t=e.querySelector("input:checked").nextElementSibling.innerHTML;e.querySelector(".dropdown__header span").innerHTML=t,closeDropdown(e)}}function closeDropdown(e){e.classList.remove("open"),e.setAttribute("aria-expanded",!1)}switchBlock&&switchBlock.forEach((e=>{tabSwitch(e.querySelectorAll("[data-tab]"),e.querySelectorAll("[data-block]"))})),modal&&modal.forEach((e=>{e.addEventListener("click",(t=>{e.querySelector(".modal__content").contains(t.target)||closeModal(e)})),e.querySelectorAll(".modal__close").forEach((t=>{t.addEventListener("click",(()=>{closeModal(e)}))}))})),modalShowBtns(),modalUnshowBtns(),dropdown&&dropdown.forEach((e=>{e.querySelector(".dropdown__header").addEventListener("click",(()=>{e.classList.contains("open")?closeDropdown(e):openDropdown(e)}))}));const accordion=document.querySelectorAll(".accordion");let readMoreTimeout;function readMoreFunc(){clearTimeout(readMoreTimeout);const e=document.querySelectorAll(".read-more");readMoreTimeout=setTimeout((()=>{e.length&&e.forEach((e=>{let t=e.querySelector(".read-more__btn").getAttribute("data-open"),o=e.querySelector(".read-more__btn").getAttribute("data-close");function r(){e.classList.remove("active"),e.classList.add("more-hidden");let o=e.querySelector(".read-more__content").clientHeight;e.classList.remove("more-hidden");let r=e.querySelector(".read-more__content").clientHeight;e.classList.add("more-hidden"),r>o?(e.classList.add("btn-show"),e.querySelector(".read-more__btn span")&&t&&(e.querySelector(".read-more__btn span").textContent=t)):e.classList.remove("btn-show")}r();let n=window.innerWidth;window.addEventListener("resize",(()=>{n!=window.innerWidth&&(r(),n=window.innerWidth)})),e.querySelector(".read-more__btn").addEventListener("click",(()=>{if(e.classList.contains("active")){e.classList.remove("active");let o=e.querySelector(".read-more__content").clientHeight+"px";e.classList.add("more-hidden");let r=e.querySelector(".read-more__content").clientHeight+"px";e.classList.remove("more-hidden"),e.querySelector(".read-more__content").style.height=o,setTimeout((function(){e.querySelector(".read-more__content").style.height=r,e.querySelector(".read-more__btn span")&&t&&(e.querySelector(".read-more__btn span").textContent=t),setTimeout((()=>{e.classList.add("more-hidden"),e.querySelector(".read-more__content").style.height=null}),500)}),0)}else{e.classList.add("active");let t=e.querySelector(".read-more__content").clientHeight+"px";e.classList.remove("more-hidden");let r=e.querySelector(".read-more__content").clientHeight+"px";e.querySelector(".read-more__content").style.height=t,setTimeout((function(){e.querySelector(".read-more__content").style.height=r,e.querySelector(".read-more__btn span")&&o&&(e.querySelector(".read-more__btn span").textContent=o),setTimeout((()=>{e.querySelector(".read-more__content").style.height=null}),500)}),0)}}))}))}),0)}accordion.length&&accordion.forEach((e=>{e.querySelector(".accordion__header").addEventListener("click",(()=>{e.classList.contains("no-close")||e.parentNode.parentNode.querySelectorAll(".accordion").forEach((t=>{if(t.querySelector(".accordion__header").classList.contains("active")&&(smoothDrop(t.querySelector(".accordion__header"),t.querySelector(".accordion__body")),t.getBoundingClientRect().top<0)){let o=scrollPos()+e.getBoundingClientRect().top-t.querySelector(".accordion__body").clientHeight-header.clientHeight-10;window.scrollTo(0,o)}})),smoothDrop(e.querySelector(".accordion__header"),e.querySelector(".accordion__body"))}))})),readMoreFunc();const inp=document.querySelectorAll("input[type=tel]");inp&&inp.forEach((e=>{Inputmask({mask:"+7 999 999-99-99"}).mask(e)}));const searchForm=document.querySelectorAll(".search-form");function showSearchResBtn(e){e.querySelector("input").value.length>0?e.querySelector(".search-form__reset").classList.add("show"):e.querySelector(".search-form__reset").classList.remove("show")}searchForm&&searchForm.forEach((e=>{showSearchResBtn(e),e.querySelector("input").addEventListener("input",(()=>showSearchResBtn(e))),e.addEventListener("reset",(()=>{e.querySelector("input").setAttribute("value",""),showSearchResBtn(e)}))}));const anchorLinks=document.querySelectorAll(".js-anchor");anchorLinks.length&&document.querySelectorAll(".js-anchor").forEach((e=>{e.addEventListener("click",(t=>{let o=e.getAttribute("href").indexOf("#");const r=e.getAttribute("href").substring(o);let n=document.querySelector(r);if(n){t.preventDefault();let e=n.getBoundingClientRect().top<0?n.getBoundingClientRect().top-header.clientHeight:n.getBoundingClientRect().top;iconMenu.classList.contains("active")?(iconMenu.click(),setTimeout((()=>{window.scrollTo({top:scrollPos()+e,behavior:"smooth"})}),300)):window.scrollTo({top:scrollPos()+e,behavior:"smooth"})}}))}));const blurTexts=document.querySelectorAll(".blur-text");blurTexts&&blurTexts.forEach((e=>{const t=e.innerHTML.split(/(<br>)/g);e.innerHTML="";let o=0;t.forEach(((t,r)=>{if("<br>"===t)e.appendChild(document.createElement("br"));else{let r=t.split(" "),n=document.createElement("span");n.classList.add("lineWrapper"),e.append(n),r.forEach((e=>{if(""!==e.trim()){e.split(" ").forEach((e=>{e=e.replace(/&nbsp;/g," ");let t=document.createElement("span");t.classList.add("wordWrapper"),n.append(t),e.split("").forEach((e=>{if(""!==e.trim()){let r=document.createElement("span");r.innerHTML=e,r.classList.add("char"),r.setAttribute("data-i",o),r.setAttribute("style",`--char-i: ${o}`),t.append(r),o++}else t.innerHTML+="&nbsp;"}))}))}}))}}))}));let isAnimating=!1;function animate(){document.querySelectorAll("[data-animation]").forEach((async e=>{const t=e.getBoundingClientRect().top,o=Math.abs(window.innerHeight-.1*e.offsetHeight);if(t-(o>100?o:100)<0){const o=e.getAttribute("data-animation");for(preloader&&!preloader.classList.contains("loaded")&&await new Promise((e=>setTimeout(e,preloaderHiddenTimeOut)));isAnimating;)await new Promise((e=>setTimeout(e,50)));isAnimating=!0,e.classList.add(o),e.removeAttribute("data-animation"),t>0&&await new Promise((e=>setTimeout(e,200))),isAnimating=!1}}))}animate(),window.addEventListener("scroll",animate);const headerNav=document.querySelector(".header__nav");iconMenu&&headerNav&&(iconMenu.addEventListener("click",(()=>{iconMenu.classList.contains("active")?(iconMenu.setAttribute("aria-expanded",!1),iconMenu.setAttribute("aria-label","Открыть меню"),iconMenu.classList.remove("active"),headerNav.classList.remove("open"),enableScroll()):(iconMenu.setAttribute("aria-label","Закрыть меню"),iconMenu.classList.add("active"),headerNav.classList.add("open"),disableScroll())})),window.addEventListener("resize",(()=>{window.innerWidth>bp.largeDesktop&&iconMenu.classList.contains("active")&&iconMenu.click()})));const filter=document.querySelectorAll(".filter");let filterObj;filter.length&&(filterObj={checkInp:function(e){e.checked=!0,e.setAttribute("checked",!0)},uncheckInp:function(e){e.checked=!1,e.removeAttribute("checked")},setSelected:function(e,t){let o=e.parentNode.querySelector("span:last-child").textContent,r=e.getAttribute("data-id"),n=e.getAttribute("data-name"),i=n?n+" "+o.toLowerCase():o;t.insertAdjacentHTML("afterbegin",`<li data-target="${r}">${i}<button class="btn-cross"></button></li>`)},removeSelected:function(e,t){t.querySelector(`[data-target="${e}"]`)&&t.querySelector(`[data-target="${e}"]`).remove()},selectedOnClick:function(e,t,o){o.querySelectorAll("li").forEach((o=>{if(o.querySelector(".btn-cross").contains(e.target)){let e=o.getAttribute("data-target");t.querySelector(`label input[data-id='${e}']`).click()}}))}},filter.forEach((e=>{const t=e.querySelector(".filter__selected-items");t&&(e.querySelectorAll("label input").forEach((e=>{e.checked&&filterObj.setSelected(e,t)})),e.addEventListener("click",(o=>{e.querySelector("label input")&&e.querySelectorAll("label input").forEach((r=>{if(r.contains(o.target)){let o=r.getAttribute("data-id");"checkbox"===r.type?r.checked?filterObj.setSelected(r,t):filterObj.removeSelected(o,t):"radio"===r.type&&(e.querySelectorAll(`input[name='${r.name}']`).forEach((e=>filterObj.removeSelected(e.getAttribute("data-id"),t))),filterObj.setSelected(r,t))}}))})),t.addEventListener("click",(o=>filterObj.selectedOnClick(o,e,t))))})));const datepicker=document.querySelectorAll(".datepicker");datepicker&&datepicker.forEach((e=>{new AirDatepicker(e,{range:!0,multipleDatesSeparator:" - ",onSelect({formattedDate:t}){let o=e.closest(".filter__form");o&&(o.querySelector("input[data-datepicker-value]").setAttribute("data-datepicker-value",t),o.submit())}})}));const introBg=document.querySelector(".intro .media-cover-bg");if(introBg){gsap.timeline({ease:"none",duration:1,scrollTrigger:{trigger:document.querySelector(".intro"),start:"top top",end:"bottom start",scrub:!0,invalidateOnRefresh:!0,scrubs:!0}}).to(introBg,{y:0})}const aboutContainer=document.querySelector(".about__container"),aboutRibbons=document.querySelector(".about__ribbons"),aboutItems=document.querySelectorAll(".about .item-about");if(aboutContainer&&aboutRibbons){let e=gsap.timeline({scrollTrigger:{trigger:aboutContainer,start:"top+=200 bottom",invalidateOnRefresh:!0},onComplete:()=>{aboutRibbons.style.opacity=.2,aboutContainer.style.opacity=1,aboutContainer.classList.add("text-animating"),aboutItems.length&&setTimeout((()=>{aboutItems.forEach(((e,t)=>{gsap.to(e,{opacity:1,ease:"power2.out",duration:1,delay:.3*t})}))}),300)}});aboutRibbons.querySelectorAll(".about__ribbons-path").forEach(((t,o)=>{let r=t.getTotalLength();t.style.strokeDasharray=r+"px",t.style.strokeDashoffset=r+"px",e.to(t,{strokeDashoffset:0,ease:"none",duration:1},.2*o)}))}const introAbout=document.querySelector(".about-intro"),aboutLines=document.querySelector(".about-intro__lines");introAbout&&aboutLines&&aboutLines.querySelectorAll(".about-intro__lines-path").forEach((async(e,t)=>{let o=e.getTotalLength();e.style.strokeDasharray=o+"px",e.style.strokeDashoffset=o+"px",preloader&&!preloader.classList.contains("loaded")&&await new Promise((e=>setTimeout(e,preloaderHiddenTimeOut))),gsap.to(e,{strokeDashoffset:0,ease:"none",duration:2,scrollTrigger:{trigger:aboutLines,start:"top+=200 bottom",invalidateOnRefresh:!0,onEnter:()=>{setTimeout((()=>{introAbout.classList.add("line-animated")}),1e3)}}},.2*t)}));const eventsWrapper=document.querySelector(".events__wrapper"),eventsMod=document.querySelector("#event-mod"),eventsModContent=document.querySelector("[data-event-mod-content]"),eventsCol=document.querySelectorAll(".events .swiper-slide");function initEventsSwiper(){const e=document.querySelector(".events .swiper"),t=document.querySelector(".events .swiper-nav");e&&(new Swiper(e,{slidesPerView:1,spaceBetween:16,observer:!0,observeParents:!0,watchSlidesProgress:!0,navigation:{prevEl:document.querySelector(".events .nav-btn--prev"),nextEl:document.querySelector(".events .nav-btn--next")},breakpoints:{1450.98:{slidesPerView:4,spaceBetween:30},1200.98:{slidesPerView:3,spaceBetween:20},1030.98:{slidesPerView:3,spaceBetween:16},767.98:{slidesPerView:2,spaceBetween:16}},speed:800}),t&&(e?t.classList.remove("hidden"):t.classList.add("hidden")))}if(initEventsSwiper(),eventsWrapper&&eventsWrapper.addEventListener("click",(e=>{const t=eventsWrapper.querySelectorAll(".item-event");t.length&&t.forEach((t=>{if(t.contains(e.target)){const e=t.querySelector(".item-event__mod");if(e){let t=e.getAttribute("data-title");eventsMod&&t&&eventsModContent&&(eventsMod.querySelector(".modal__title").innerHTML=t,eventsModContent.innerHTML=e.innerHTML,readMoreFunc(),openModal(eventsMod))}}}))})),eventsWrapper&&eventsCol.length){let t=gsap.timeline({scrollTrigger:{trigger:eventsWrapper,start:"center bottom",invalidateOnRefresh:!0,toggleActions:"play none play none"}});eventsCol.forEach(((e,o)=>{t.from(e,{xPercent:30,opacity:0,ease:"back.out",duration:1},.2*o)}))}const mainNewsSwiperEl=document.querySelector(".main-news__swiper");if(mainNewsSwiperEl){let o,r;function initMainNewsSwiper(){window.innerWidth<=bp.laptop&&!r?(r=!0,o=new Swiper(mainNewsSwiperEl.querySelector(".swiper"),{slidesPerView:1,spaceBetween:16,observer:!0,observeParents:!0,watchSlidesProgress:!0,breakpoints:{575.98:{slidesPerView:2,spaceBetween:20}},pagination:{el:mainNewsSwiperEl.querySelector(".swiper-pagination"),type:"bullets",clickable:!0},speed:800})):window.innerWidth>bp.laptop&&r&&(r=!1,o.destroy())}initMainNewsSwiper(),window.addEventListener("resize",initMainNewsSwiper)}const mainNewsSlide=document.querySelectorAll(".main-news__slide");if(mainNewsSlide.length){let n=gsap.timeline({scrollTrigger:{trigger:mainNewsSwiperEl,start:"top center",invalidateOnRefresh:!0,toggleActions:"play none play none"}});mainNewsSlide.forEach(((e,t)=>{n.from(e,{y:50,opacity:0,ease:"back.out",duration:1},.1*t)}))}const gallerySwiper=document.querySelectorAll(".gallery__swiper");gallerySwiper.length&&gallerySwiper.forEach((e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:1,spaceBetween:16,observer:!0,observeParents:!0,centeredSlides:!0,watchSlidesProgress:!0,initialSlide:e.querySelectorAll(".swiper-slide").length>2?1:0,effect:"coverflow",coverflowEffect:{rotate:0,stretch:0,depth:110,modifier:1,slideShadows:!0},navigation:{prevEl:e.querySelector(".nav-btn--prev"),nextEl:e.querySelector(".nav-btn--next")},breakpoints:{1450.98:{slidesPerView:1.48,spaceBetween:80},1030.98:{slidesPerView:1.185,spaceBetween:80},767.98:{slidesPerView:1,spaceBetween:60}},speed:800})}));const newsPopup=document.querySelector(".news-popup");newsPopup&&newsPopup.querySelector(".news-popup__close").addEventListener("click",(()=>newsPopup.classList.add("hidden")));const fanShopSwiper=document.querySelector(".fan-shop__swiper");fanShopSwiper&&new Swiper(fanShopSwiper.querySelector(".swiper"),{slidesPerView:"auto",spaceBetween:16,observer:!0,observeParents:!0,watchSlidesProgress:!0,navigation:{prevEl:fanShopSwiper.querySelector(".nav-btn--prev"),nextEl:fanShopSwiper.querySelector(".nav-btn--next")},breakpoints:{1450.98:{slidesPerView:fanShopSwiper.classList.contains("fan-shop__swiper--sm")?3:4,spaceBetween:30},1200.98:{slidesPerView:fanShopSwiper.classList.contains("fan-shop__swiper--sm")?3:4,spaceBetween:20},1030.98:{slidesPerView:fanShopSwiper.classList.contains("fan-shop__swiper--sm")?3:4,spaceBetween:16},767.98:{slidesPerView:3,spaceBetween:16}},speed:800});const swiper1=document.querySelectorAll(".swiper1");swiper1.length&&swiper1.forEach((e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:1,observer:!0,observeParents:!0,effect:"fade",fadeEffect:{crossFade:!0},pagination:{el:e.querySelector(".swiper-pagination"),type:"bullets",clickable:!0},speed:300})}));const clubAchieveList=document.querySelectorAll(".club-achieve__list");clubAchieveList.length&&clubAchieveList.forEach((e=>{e.querySelectorAll("li").length>2&&e.classList.add("col-2")}));const dataPrintBtn=document.querySelectorAll("[data-print-btn]");dataPrintBtn.length&&dataPrintBtn.forEach((e=>{e.addEventListener("click",(async()=>{const t=document.querySelector(`[data-print-block='${e.getAttribute("data-print-btn")}']`);let o=e.getAttribute("data-print-name");if(t){const e={filename:o?o+".pdf":"document.pdf",html2canvas:{scale:4,useCORS:!0,letterRendering:!0,logging:!1,scrollY:0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};html2pdf().set(e).from(t).save()}}))}));let daysOfWeek=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"];function setScheduleDate(){document.querySelectorAll(".col-schedule").forEach((e=>{let t=e.getAttribute("data-date"),o=new Date(t).getDate(),r=new Date(t).getDay();const n=e.querySelector(".col-schedule__date"),i=e.querySelector(".col-schedule__day");t&&(n&&(n.innerHTML=o),i&&(i.innerHTML=daysOfWeek[r],e.classList.add("col-schedule--"+r)))}))}setScheduleDate();const scrollDownBtn=document.querySelector(".intro .scrollDown-btn");scrollDownBtn&&scrollDownBtn.addEventListener("click",(()=>{window.scrollTo({top:document.querySelector(".intro").scrollHeight,behavior:"smooth"})}));const members=document.querySelector(".members"),memberMod=document.querySelector("#member-mod"),memberModContent=document.querySelector("[data-member-mod-content]");let mainMemberColPos;if(members){const i=members.querySelectorAll(".item-member");if(i.length){const l=members.querySelector(".members__col--main"),s=members.querySelector(".members__col--first .item-member:last-child"),c=members.querySelector(".members__col--second .item-member:first-child"),a=members.querySelector(".members__col--third .item-member:first-child"),d=members.querySelectorAll(".members__col--first .item-member__line"),u=members.querySelector(".members__line--left"),m=members.querySelector(".members__line--right");function getMemMainColPos(){return{height:l.clientHeight,top:l.getBoundingClientRect().top,left:l.getBoundingClientRect().left,right:l.getBoundingClientRect().right}}function setMemLeftLine(){if(s&&u){let e={width:s.clientWidth,height:s.clientHeight,top:s.getBoundingClientRect().top,right:s.getBoundingClientRect().right},t=mainMemberColPos.left-e.right,o=e.top-mainMemberColPos.top-e.height/2,r=c.getBoundingClientRect().top-mainMemberColPos.top+mainMemberColPos.height/2-c.getBoundingClientRect().height/2;u.style.width=t+"px",u.style.height=window.innerWidth>bp.laptop?o+"px":r+"px",u.style.top=mainMemberColPos.height/2+"px",u.style.left=e.width+"px",d&&d.forEach((e=>e.style.width=t/3+"px"))}}function setMemRightLine(){if(a&&m){let e={width:a.clientWidth,height:a.clientHeight,left:a.getBoundingClientRect().left,top:a.getBoundingClientRect().top},t=e.left-mainMemberColPos.right,o=e.top-mainMemberColPos.top+mainMemberColPos.height/2-e.height/2;m.style.width=t+"px",m.style.height=o+"px",m.style.top=mainMemberColPos.height/2+"px",m.style.right=e.width+"px"}}function adjustSizeToMultOf9(e){e.style.width=null,e.style.height=null,setTimeout((()=>{let t=Math.round(e.offsetWidth);for(;t%9!=0;)t--;e.style.width=t+"px"}),0),setTimeout((()=>{let t=Math.round(e.offsetHeight);for(;t%9!=0;)t++;e.style.height=t+"px"}),0)}function callMemDashFunc(){i.forEach((e=>{e.parentNode.classList.contains("members__team")?adjustSizeToMultOf9(e.parentNode):adjustSizeToMultOf9(e)})),setTimeout((()=>{l&&(mainMemberColPos=getMemMainColPos(),setMemLeftLine(),setMemRightLine())}),0)}i.forEach((e=>{e.addEventListener("click",(()=>{const t=e.querySelector(".item-member__mod");if(t){let e=t.getAttribute("data-title");memberMod&&e&&memberModContent&&(memberMod.querySelector(".modal__title").innerHTML=e,memberModContent.innerHTML=t.innerHTML,openModal(memberMod))}}))})),callMemDashFunc();let p=window.innerWidth;const h=debounce((()=>{p!=window.innerWidth&&(callMemDashFunc(),p=window.innerWidth)}),200);window.addEventListener("resize",h)}}